/*! 2019-12-27 */

KISSY.add(function(a,t,e,n,i,o,s){window;var c=['<div class="action-sheet-backdrop active" buttons="buttons">','\t<div class="action-sheet-wrapper">','\t\t<div class="action-sheet" >','\t\t\t<div class="action-sheet-group action-sheet-options">','\t\t\t\t<div class="action-sheet-title">Modify your album</div>',"\t\t\t</div>",'\t\t\t<div class="action-sheet-group action-sheet-cancel" >','\t\t\t\t<button class="button button-cancel">取消</button>',"\t\t\t</div>","\t\t</div>","\t</div>","</div>"].join("");function u(t){a.mix(t,{defaults:{cls:"action-sheet-option",type:"button"}},!1,void 0,!0),u.superclass.constructor.call(this,t)}return a.extend(u,i),UFO.augment(u,{alias:"actionsheet",initComponent:function(){this.el=a.one(c),this.actionSheetOptions=this.el.one(".action-sheet-options"),this.actionSheetWrapper=this.el.one(".action-sheet-wrapper"),u.superclass.initComponent.apply(this,arguments)},getBodyContainer:function(){return this.actionSheetOptions},add:function(t,e){var o=this;a.isArray(t)||(t=[t]);for(var n=0,i=t.length;n<i;n++){var s=t[n];"title"==s.type&&(s='<div class="action-sheet-title">'+t[n].text+"</div>"),function(t){var n=t.handler;n&&(t.handler=function(t,e){!1!==n(t,e)&&o.slideOut()});var i=t.change;i&&(t.change=function(t,e){!1!==i(t,e)&&o.slideOut()})}(s)}u.superclass.add.call(this,t,e)},show:function(t){return this.appended||(a.one(document.body).append(this.toEl()),this.appended=!0),u.superclass.show.apply(this,arguments),this},slideIn:function(){var n=this;this.show(),setTimeout(function(){n.actionSheetWrapper.addClass("action-sheet-up"),n.el.on("mouseup",function(t){console.log("mouseup",t);var e=t.target;if(!n.actionSheetWrapper.contains(e)&&n.actionSheetWrapper.getDOMNode()!==e)return n.slideOut(),!1})},0)},slideOut:function(t){var e=this;e.actionSheetWrapper.removeClass("action-sheet-up"),setTimeout(function(){t&&t(),e.el.remove(),delete e},500)},addCmpEvents:function(){var e=this;this.el.delegate("click","button.button-cancel",function(t){e.slideOut()})}}),u},{requires:["node","event","xtemplate","../container/Container","../button/Button","../util/MouseEvent"]});