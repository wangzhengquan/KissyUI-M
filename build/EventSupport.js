/*! 2019-12-28 */

KISSY.add(function(o){function n(e,t){for(var n=0,i=t.length,r=null;n<i;n++){r=t[n];for(var s=0,h=0;s<e.length;s++)e[s]!=r&&(e[h++]=e[s]);e.length=h}return e}function e(e){this.listeners=this.listeners||{},this.oneTimeListeners=this.oneTimeListeners||{}}return UFO.augment(e,{on:function(e,t){var n=this.listeners[e]||[];return o.isArray(n)||(n=[n]),n.push(t),this.listeners[e]=n,this},off:function(e,t){return this.listeners[e]&&n(this.listeners[e],t),this.oneTimeListeners[e]&&n(this.oneTimeListeners[e],t),this},one:function(e,t){return this.oneTimeListeners[e]=this.oneTimeListeners[e]||[],this.oneTimeListeners[e].push(t),this},fire:function(){var e=[],t=arguments[0],n=Array.prototype.slice.call(arguments,1),i=this.listeners[t],r=this.oneTimeListeners[t];if(i){o.isArray(i)||(i=[i]);for(var s=0,h=i.length;s<h;s++)e.push(i[s].apply(this,n))}if(r){o.isArray(r)||(r=[r]);for(s=0,h=r.length;s<h;s++)e.push(r[s].apply(this,n))}return r=[],1==e.length?e[0]:e},fireEvent:function(){return this.fire.apply(this,arguments)},hasListener:function(e){return this.listeners[e]},relayEvents:function(e,t,n){for(var i,r,s=t.length,h=0;h<s;h++)i=t[h],r=n?n+i:i,e.on(i,this.createRelayer(r))},createRelayer:function(e,t){var n=this;return function(){return n.fireEvent.apply(n,[e].concat(Array.prototype.slice.apply(arguments,t||[0])))}}}),e});