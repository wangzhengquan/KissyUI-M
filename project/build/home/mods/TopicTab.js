/*! 2019-12-27 */
KISSY.add("app/util/ParamUtil",function(a){return{processParam:function(b){for(var c in b){var d=b[c];a.isArray(d)&&(b[c]=d[0])}return b}}}),KISSY.add("app/util/XTemplateUtil",function(a,b,c){var d=function(){b.addCommand("getImgAbsolutePath",function(a,b){var c=b.params[0];return c?"../resources/img/"+c:"../resources/img/default_product.png"}),b.addCommand("formatPrice",function(a,b){return Number(b.params[0]).toFixed(2)}),b.addCommand("formatDateTime",function(b,d){var e=d.params[0],f="yyyy-MM-dd";return a.isNumber(e)&&(e=new Date(e)),2===d.params.length&&(f=d.params[1]),c.format(e,f)}),b.addCommand("fixedDigits",function(a,b){var c=2;return 2===b.params.length&&(c=b.params[1]),Number(b.params[0]).toFixed(c)}),b.addCommand("join",function(a,b){var c=",";return 2===b.params.length&&(c=b.params[1]),b.params[0].join(c)}),b.addCommand("getHost",function(a,b){return location.host}),b.addCommand("encodeURIComponent",function(a,b){return encodeURIComponent(b.params[0])})};return d(),{}},{requires:["xtemplate","UFO/core/lang/Date"]}),KISSY.add("app/app",function(a,b,c,d){var e=c.processParam(a.unparam(decodeURIComponent(location.search.slice(1)))),f=(navigator.userAgent.toLowerCase(),"yql_customer_position"),g="yql_user",h=void 0,i=void 0,j=[{name:"北京市",code:"110100"},{name:"上海市",code:"310100"},{name:"杭州市",code:"330100"},{name:"成都市",code:"510100"},{name:"深圳市",code:"440300"},{name:"广州市",code:"440100"},{name:"武汉市",code:"420100"},{name:"南京市",code:"320100"},{name:"天津市",code:"120100"},{name:"重庆市",code:"500100"}];return{getCity:function(a){return this.getCityMap()[a]||this.getCityMap()[110100]},getCityByName:function(a){return/市$/.test(a)||(a+="市"),this.getNameKeyCityMap()[a]||this.getNameKeyCityMap()["北京市"]},getCityMap:function(){if(!h){h={};for(var a,b=0,c=j.length;b<c;b++)a=j[b],h[a.code]=a}return h},getNameKeyCityMap:function(){if(!i){i={};for(var a,b=0,c=j.length;b<c;b++)a=j[b],i[a.name]=a}return i},getCityList:function(a){return a&&a(result),j},setPosition:function(a){console.log("position",a),a.city_code||(a.city_code=this.getCityByName(a.city).code),b.setSessionItem(f,a)},getPosition:function(){b.getSessionItem(f)},setSessionUser:function(a){b.setSessionItem(g,a)},getSessionUser:function(){return b.getSessionItem(g)},isLogined:function(){return!!this.getSessionUser()},getParam:function(){return e},isMicroMessenger:function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},notifyApp:function(a,b){var c=navigator.userAgent;if("micromessenger"==c.toLowerCase().match(/MicroMessenger/i))return void(window.location="down.html");c.match(/(iPhone|iPod|iPad);?/i)?window.location=a:c.match(/android/i)&&(window.location=b);var d=+new Date;setTimeout(function(){!window.document.webkitHidden&&setTimeout(function(){+new Date-d<2e3&&(window.location="down.html")},500)},500)}}},{requires:["UFO/util/Storage","./util/ParamUtil","./util/XTemplateUtil"]}),KISSY.add("app/topic/tpl/topic-list-tpl",function(){return'<div class="tab-body-person">\n <!--  \n\t<form action="javascript:;" class="bar bar-header item-input-inset form-search">\n   \t<label class="item-input-wrapper">\n   \t\t<i class="icon iconfont placeholder-icon">&#xe611;</i>\n   \t\t<input type="search" placeholder="搜索高颜值手艺人">\n   \t</label>\n\t</form>\n\t -->\n\t<div class="scroll-content artisan-list">\n\t\t{{#each this}}\n\t\t<a href="javascript:;" data-label_code="{{label_code}}" data-type_code="{{type_code}}" class="item item-avatar  item-icon-right" >\n\t\t  <img src="{{getImgAbsolutePath img}}">\n\t\t  <h2>{{title}}</h2>\n\t\t  <p>{{subtitle}}</p>\n\t\t  <i class="icon iconfont icon-forward"></i>\n\t\t</a>\n\t\t{{/each}}\n\t\t\n\t</div>\n</div>\t\t\t'}),KISSY.add("app/topic/mods/TopicList",function(a,b,c,d,e,f,g,h){function i(a){i.superclass.constructor.call(this,a)}return a.extend(i,e),UFO.augment(i,{alias:"topiclist",initComponent:function(){var b=[{title:"炫酷大玩咖",subtitle:"和有趣的人一起参与丰富好玩的线下活动",img:"topic1.jpg"},{title:"绘画艺术家",subtitle:"源于自然，发于内心的艺术作品创作者",img:"topic2.jpg"},{title:"独立音乐人",subtitle:"Let's Go 让我们一起狂欢、一起共舞",img:"topic3.jpg"},{title:"流利口语家",subtitle:"和歪国人一起交换彼此思想的世界",img:"topic4.jpg"},{title:"潮牌摄影师",subtitle:"留住青春美好，记录最灿烂的自己",img:"topic5.jpg"}];this.el=a.all(new d(h,{commands:{getPersonHref:function(a,b){return f.alert("alert","You are nice!"),url}}}).render(b)),i.superclass.initComponent.apply(this,arguments)},doSearchArtisan:function(a){f.alert("alert","You are nice!")},addCmpEvents:function(){this.el.delegate("click",".artisan-list a.item",function(a){return f.alert("alert","You are nice!"),!1})}}),i},{requires:["node","event","xtemplate","UFO/Component","UFO/popup/MessageBox","../../app","../tpl/topic-list-tpl"]}),KISSY.add("app/home/mods/TopicTab",function(a,b,c,d,e){function f(a){f.superclass.constructor.call(this,a)}return a.extend(f,d),UFO.augment(f,{alias:"topictab",initComponent:function(){this.items=[{type:"topiclist"}],this.navBar={title:"热门专栏",barCls:"bar-black"},f.superclass.initComponent.apply(this,arguments)},addCmpEvents:function(){f.superclass.addCmpEvents.apply(this,arguments)}}),f},{requires:["node","xtemplate","UFO/container/Container","../../topic/mods/TopicList"]});